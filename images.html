<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>Mason by DrewDahlman</title>

        <link rel="stylesheet" href="stylesheets/styles.css">
        <link rel="stylesheet" href="stylesheets/pygment_trac.css">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

        <meta property="og:title" content="MasonJS" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="http://masonjs.com" />
        <meta property="og:image" content="http://masonjs.com/images/mason_badge.jpg" />
        <meta property="og:site_name" content="Mason" />
        <meta property="og:description" content="Mason is a jQuery plugin that helps you create a perfect grid with no gaps and no ragged edges. It Works by mapping elements in a grid, finding where gaps are and filling them in as a stone mason would do."/>

        <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>
    <body>

        <div id='wrapper'>
            <header style='margin-bottom: 1px;'>
                <h1>Image Example</h1>
                <p>Mason works best with images if they are set as a background-image on your grid elements.</p>
            </header>
            <section class='example' id='image-grid'></section>
        </div>

        <script src="javascripts/jQuery.js"></script>
        <script src="javascripts/mason.js"></script>

        <script>
            $(function(){
                $.ajax({
                    url: 'http://api.gifme.io/v1/search?query=nature&limit=100&page=0&key=rX7kbMzkGu7WJwvG',
                    dataType: "JSON",
                    success: function(data){
                        make_grid(data);
                    }
                })
            });

            function make_grid(images){
                for(var i = 0; i < images.data.length; i++){
                    var box = "<div class='box' style='background-image: url("+images.data[i]['thumb']+")';></div>";
                    $("#image-grid").append(box);
                }

                mason();
            }

            function mason(){
                $("#image-grid").mason({
                    itemSelector: '.box',
                    ratio: 1.2,
                    sizes: [
                        [1,1],
                        [1,2],
                        [2,1]
                    ],
                    columns: [
                        [0, 480, 3],
                        [480, 1920, 5]
                    ],
                    gutter: 5,
                    layout: 'fluid'
                });
            }
        </script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-41580075-1', 'masonjs.com');
            ga('send', 'pageview');
        </script>

    </body>
</html>